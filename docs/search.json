[
  {
    "objectID": "GroupA Main.html",
    "href": "GroupA Main.html",
    "title": "ST558 Project 1: Group A",
    "section": "",
    "text": "Loading required libraries, include = FALSE.\n\nAPI Call\n\napi call\n\nPums_API_Query &lt;- function(year=2022, num_variables =c(\"AGEP\",\"PWGTP\"),cat_variables=\"SEX\",geography=\"ALL\",Opt_subset){\n  #API key here:\n  API_key&lt;-\"2b989c8e8efa3003c17e6eb0ca728a968e04a441\" \n  #Automatically capitalize our variables\n  num_variables&lt;-toupper(num_variables)\n  cat_variables&lt;-toupper(cat_variables)\n  geography&lt;-toupper(geography)\n  #Adding num/cat variables to our url\n  variables_url&lt;-paste(c(num_variables,cat_variables),collapse=\",\")\n  #Base URL w/ year variable\n  base_pums_url &lt;-paste(\"https://api.census.gov/data/\",year,\"/acs/acs1/pums?get=\",variables_url,sep=\"\")\n  #Adding geography to URL\n  if (geography == \"ALL\"){\n    geo_url &lt;- paste(base_pums_url,\"&SCHL=24&key=\",API_key,sep=\"\")}\n    else if (geography == \"REGION\"){\n      geo_url &lt;- paste(base_pums_url,\"&for=region:*&SCHL=24&key=\",API_key,sep=\"\")}\n    else if (geograph == \"DIVISION\"){\n      geo_url &lt;- paste(base_pums_url,\"for=division:*&SCHL=24&key=\",API_key,sep=\"\")}\n    else if (geography == \"STATE\"){\n      geo_url &lt;- paste(base_pums_url,\"&for=state:*&SCHL=24&key=\",API_key,sep=\"\")}\n  \n  #Year Range Check\n  if (year &lt; 2010 | year &gt; 2022){\n    print(\"Invalid Year.  Acceptable year range: 2010-2022.\")}\n  #Just a test: delete when complete\n  print(geo_url)\n  print(num_variables)\n  print(cat_variables)\n}\n\nTesting exception cases:\n\nPums_API_Query(2009)\n\n[1] \"Invalid Year.  Acceptable year range: 2010-2022.\"\n[1] \"https://api.census.gov/data/2009/acs/acs1/pums?get=AGEP,PWGTP,SEX&SCHL=24&key=2b989c8e8efa3003c17e6eb0ca728a968e04a441\"\n[1] \"AGEP\"  \"PWGTP\"\n[1] \"SEX\"\n\nPums_API_Query(2012)  \n\n[1] \"https://api.census.gov/data/2012/acs/acs1/pums?get=AGEP,PWGTP,SEX&SCHL=24&key=2b989c8e8efa3003c17e6eb0ca728a968e04a441\"\n[1] \"AGEP\"  \"PWGTP\"\n[1] \"SEX\""
  }
]